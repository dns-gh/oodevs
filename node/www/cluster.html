[#ftl]
[#if !pg??][#assign pg="nodes"/][/#if]
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>Sword Cluster</title>
        <meta name="description" content="" />
        <link rel="stylesheet" href="css/bootstrap-2.0.2.min.css" />
        <link rel="stylesheet" type="text/css" href="css/style.css" />
    </head>

    <body>

        <div class="navbar navbar-fixed-top">
            <div class="navbar-inner">
                <div class="container">
                    <a class="brand">Sword Cluster</a>
                    <ul class="nav pull-right">
                        <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"> John Doe <span class="caret"></span></a>
                        <ul class="dropdown-menu">
                            <li><a><b>John Doe</b><br/>john.doe@masagroup.net</a></li>
                            <li class="divider"></li>
                            <li><a href=""><i class="i"></i> Log Out </a></li>
                        </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="span3">
                    <div class="well sidebar-nav">
                        <ul class="nav nav-list">
                            [#macro nav_item item name img]
                            <li[#if item == pg] class="active"[/#if]><a href="?pg=${item}"><img width="32" height="32" src="img/tango/32x32/${img}.png" /> ${name} </a></li>
                            [/#macro]
                            [@nav_item item="nodes"    name="Nodes"    img="actions/document-new" /]
                            [@nav_item item="users"    name="Admins"   img="apps/system-users" /]
                            [@nav_item item="settings" name="Settings" img="categories/preferences-system" /]
                        </ul>
                    </div>
                    <hr/>
                    <p style="text-align:center">&copy; MASA Group 2012</p>
                </div>

                <div class="span9">

                    [#if pg == "nodes"]
                    <div id="node_create" class="modal fade hide">
                        <div class="modal-header">
                            <a class="close" data-dismiss="modal"><i class="icon-remove"></i></a>
                            <h3>Create New Node</h3>
                        </div>
                        <div class="modal-body">
                            <form class="form-horizontal">
                                <div class="control-group">
                                    <label class="control-label" for="node_name">Name</label>
                                    <div class="controls">
                                        <input type="text" class="input-large" id="node_name"/>
                                        <span class="hide help-inline">Missing name</span>
                                    </div>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <span class="alert hide alert-error"></span>
                            <a class="btn btn_click"> Create</a>
                            <a class="btn btn-primary" data-dismiss="modal"> Cancel</a>
                        </div>
                    </div>
                    <div class="row node_top_bar">
                        <div class="span9">
                            <span class="node_actions">
                                <a data-toggle="modal" href="#node_create" class="btn"><i class="icon-plus"></i> Create...</a>
                            </span>
                        </div>
                    </div>
                    <div id="nodes" class="span9 accordion">
                        [#-- auto-generated templates --]
                        <script type="text/template" id="node_error_template">
                            <div class="alert alert-error">
                                <a class="close" data-dismiss="alert"><i class="icon-remove"></i></a>
                                <b>Error</b> {{content}}
                            </div>
                        </script>
                        <script type="text/template" id="node_template">
                            <div id="id_{{{id}}}" class="node_row accordion-group">
                                <div class="node_header accordion-heading">
                                <div class="btn-group node_buttons">
                                    <a title="Loading..." class="btn hide disabled spin_btn"></a>
                                    {{#is_option status running=""}}
                                    <a href="http://localhost:{{{port}}}" title="Go..." class="btn"><i class="icon-share"></i></a>
                                    {{/is_option}}
                                    {{#is_option status stopped=""}}
                                    <a title="Play" class="btn play"><i class="icon-play"></i></a>
                                    {{/is_option}}
                                    {{#is_option status running=""}}
                                    <a title="Stop" class="btn stop"><i class="icon-stop"></i></a>
                                    {{/is_option}}
                                    {{#is_option status stopped=""}}
                                    <a title="Settings..." class="btn settings"><i class="icon-cog"></i></a>
                                    {{/is_option}}
                                    {{#is_option status stopped=""}}
                                    <a title="Delete" class="btn delete"><i class="icon-trash"></i></a>
                                    {{/is_option}}
                                </div>
                                    <span class="well {{{status}}}"></span>
                                    <a class="accordion-toggle" data-toggle="collapse" data-parent="#nodes" href="#collapse_{{{id}}}"><img width="32" height="32" src="img/tango/32x32/places/network-server.png"/> {{{name}}} </a>
                                </div>
                                <div id="collapse_{{{id}}}" class="accordion-body collapse">
                                    <div class="accordion-inner">
                                        <form class="form-horizontal">
                                            <div class="control-group">
                                                <label class="control-label" for="url">URL</label>
                                                <div class="controls">
                                                    <span class="uneditable-input read_only">http://sword.server.com/{{{name}}}</span>
                                                </div>
                                            </div>
                                            <div class="control-group">
                                                <label class="control-label">Sessions</label>
                                                <div class="controls">
                                                    <span class="uneditable-input read_only">0 total</span>
                                                    <span class="uneditable-input read_only">0 played</span>
                                                </div>
                                            </div>
                                            <div class="control-group">
                                                <label class="control-label"></label>
                                                <div class="controls">
                                                    <span class="uneditable-input read_only">0 parallel</span>
                                                    <span class="uneditable-input read_only">0 running</span>
                                                </div>
                                            </div>
                                            <div class="control-group">
                                                <label class="control-label">Exercises</label>
                                                <div class="controls">
                                                    <span class="uneditable-input read_only">0 available</span>
                                                </div>
                                            </div>
                                            <div class="control-group">
                                                <label class="control-label">Data</label>
                                                <div class="controls">
                                                    <span class="uneditable-input read_only">0 MB used</span>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </script>
                    </div>
                    [/#if]

                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="span12">
                </div>
            </div>
        </div>

    </body>
    [#-- script include order is required --]
    <script>var uuid = "${uuid}"</script>
    <script src="js/jquery-1.7.2.min.js"></script>
    <script src="js/bootstrap-2.0.2.min.js"></script>
    <script src="js/underscore-min.js"></script>
    <script src="js/backbone-min.js"></script>
    <script src="js/handlebars-1.0.0.beta.6-min.js"></script>
    <script src="js/spin.min.js"></script>
    [#if pg == "nodes"]
    <script src="js/nodes.js"></script>
    [/#if]
</html>
