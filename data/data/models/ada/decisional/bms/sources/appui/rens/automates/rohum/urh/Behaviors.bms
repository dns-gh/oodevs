includedFiles = includedFiles or {}
includedFiles["sources/appui/rens/automates/rohum/urh/Behaviors.bms"] = true

--[[// *****************************************************************************
]]--[[//
]]--[[// $Created: MIA 02-11-08 $
]]--[[// $Archive: /MVW_v10/Build/Data/Data/Modeles/Sources/Appui/Rens/Automates/Rohum/URH/Behaviors.hal $
]]--[[// $Author: Ggr $
]]--[[// $Modtime: 24/05/05 16:47 $
]]--[[// $Revision: 6 $
]]--[[// $Workfile: Behaviors.hal $
]]--[[//
]]--[[// *****************************************************************************
]]
--[[// Paramètres généraux
]]--[[// -------------------
]]use_priority = no

max_instances = 200

max_activations = 200


--[[// Commun SCIPIO
]]include "Common/Automates/Behaviors.bms"


--[[// Medo RENS
]]include "Common/Automates/Behaviors/Medo/Behaviors - Medo - RENS.bms"


--[[// Commun rens
]]include "Appui/Rens/Behaviors.bms"


--[[// Commun automates RENS
]]include "Appui/Rens/Automates/Common/Behaviors.bms"


--[[// Commun ROHUM
]]include "Appui/Rens/Automates/Rohum/Common/Behaviors.bms"


--[[// Commun URH
]]include "Appui/Rens/Automates/Rohum/URH/Missions/Missions.bms"




--[[//-----------------------------------------------------------------------------
]]--[[// Missions génériques
]]--[[//-----------------------------------------------------------------------------
]]--[[// SExfiltrer
]]include "Appui/Rens/Automates/Rohum/Common/Missions/SExfiltrer/SExfiltrer - MRT.bms"

include "Appui/Rens/Automates/Rohum/Common/Missions/SExfiltrer/SExfiltrer - CDT.bms"


--[[// RenseignerSur
]]include "Appui/Rens/Automates/Rohum/Common/Missions/RenseignerSur/RenseignerSur - MRT.bms"

include "Appui/Rens/Automates/Rohum/Common/Missions/RenseignerSur/RenseignerSur - CDT.bms"




--[[// *****************************************************************************
]]--[[// BEH_Connaissance_Automate_RENS_ROHUM_AssurerLaLiaisonAvec
]]--[[// 
]]--[[// Commentaires:
]]--[[//
]]--[[// *****************************************************************************
]]node "BEH_Connaissance_Automate_RENS_ROHUM_AssurerLaLiaisonAvec"
{
    activations =
    {
        { "ACT_Automate_Rens_PartageConnaissancesAvec", { "onHalt" } },
    },

    onHalt = OnHalt,

    feedbacks = { { { "onHalt" }, "BEH_Connaissance_Automate_RENS_ROHUM_AssurerLaLiaisonAvec" } },

    create = function( self )
        self._namedParams = {}
        self._namedParams.ami = self.params[1]
    end,

    activate = function( self )
        local positionAmie = DEC_Geometrie_CalculerBarycentreAgents( DEC_Automate_PionsDeAutomateAvecPC( self._namedParams.ami ) )
        local maPosition = DEC_Geometrie_CalculerBarycentreAgents( myself:DEC_Automate_PionsAvecPC() )
        if( DEC_Geometrie_Distance( maPosition, positionAmie ) < 2000 ) then
            Activate( self.activations.ACT_Automate_Rens_PartageConnaissancesAvec, 1, { self._namedParams.ami, } )
        end

    end,

}

connections = connections or {}
connections[ #connections + 1 ] = { nodes.BEH_Connaissance_Automate_RENS_ROHUM_AssurerLaLiaisonAvec, "ACT_Automate_Rens_PartageConnaissancesAvec", nodes.ACT_Automate_Rens_PartageConnaissancesAvec }
