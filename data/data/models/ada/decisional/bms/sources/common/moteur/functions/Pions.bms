includedFiles = includedFiles or {}
includedFiles["sources/common/moteur/functions/Pions.bms"] = true

include "bit.lua"


--[[// *****************************************************************************
]]--[[// globals
]]--[[// *****************************************************************************
]]--[[// RC
]]--[[/*E_TypeRC*//*Paramètres dépendant du type de RC*/]]--[[/*E_TypeRC*//*Paramètres dépendant du type de RC*/]]--[[/*E_TypeRC*//*Paramètres dépendant du type de RC*/]]--[[// Actions                              
]]--[[/*T_Action*//*T_Action*/]]--[[/*T_Action*/]]--[[/*T_Action*/]]--[[// Transport                            
]]--[[/*T_ListePions*//*Transporte seulement embarquables*/]]--[[/*T_Pion*//*Transporte seulement embarquables*/]]--[[/*T_Action*//*E_EtatActionTransport*/]]--[[/*T_Action*//*E_EtatActionTransport*/]]--[[/*T_ListePions*//*Transporte seulement embarquables*/]]--[[/*T_Pion*//*Transporte seulement embarquables*/]]--[[/*T_Pion*/]]--[[/*T_Pion à transporter*//*Transporte seulement embarquables*/]]--[[// Prisonniers                          
]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*//*T_ConnaissangeObjet*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*//*T_ConnaissangeObjet*/]]--[[// Refugies                             
]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*//*T_ConnaissangeObjet*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*//*T_ConnaissangeObjet*/]]--[[// Installation
]]--[[// Tir                                  
]]--[[/*T_Action*//*E_EtatActionTirDirect*//*T_ConnaissanceAgent*//*pourcentage de composantes à utiliser*//*E_ModeTirDirect*//*I E_DotationMunitionClasse : type de munition à utiliser*/]]--[[/*T_Action*//*E_EtatActionTirDirect*//*T_ConnaissanceAgent*//*pourcentage de composantes à utiliser*//*E_ModeTirDirect*//*I E_DotationMunitionClasse : type de munition à utiliser*/]]--[[/*T_Action*//*E_EtatActionTirDirect*//*T_ConnaissanceAgent*//*pourcentage de composantes à utiliser*//*E_ModeTirDirect*//*I E_DotationMunitionClasse : type de munition à utiliser*/]]--[[/*T_Action*//*E_EtatActionTirDirect*//*T_ConnaissanceAgent*//*pourcentage de composantes à utiliser*//*E_ModeTirDirect*//*I E_DotationMunitionClasse : type de munition à utiliser*/]]--[[/*T_Action*//*E_EtatActionTirIndirect*//*T_Dotation*//*Nb d'IT*//*position*/]]--[[/*T_Action*//*E_EtatActionTirIndirect*//*T_Dotation*//*Nb d'IT*//*connaissance*/]]--[[/*T_Action*//*E_EtatActionTirDirect*//*T_ConnaissancePopulation*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*//* ph voulu, par défaut 0.8 */]]--[[/*T_ConnaissanceAgent*//* ph voulu, par défaut 0.8 */]]--[[/*T_ConnaissanceAgent*//* ph voulu, par défaut 0.8 */]]--[[/*T_ConnaissanceAgent*//* ph voulu, par défaut 0.8 */]]--[[/*T_ConnaissanceAgent*//* ph voulu, par défaut 0.8 */]]--[[/*T_ConnaissanceAgent*//* ph voulu, par défaut 0.8 */]]--[[/*T_Dotation*/]]--[[/*T_Dotation*/]]--[[/*T_Dotation*/]]--[[/*T_Dotation*/]]--[[/*T_Dotation*//*E_TypeObus*//*T_Point cible*/]]--[[// Embarquement / débarquement          
]]--[[/*T_Action*//*E_EtatEmbarquementDebarquement*/]]--[[/*T_Action*//*E_EtatEmbarquementDebarquement*/]]--[[// Controle de zone                     
]]--[[/*T_Action*//*T_Localisation*//*distance max en metres*//*Tir autorisé*/]]--[[// Objets
]]--[[/*T_Action*//*E_EtatActionObjet*//*T_ConnaissanceObjet*/]]--[[/*T_Action*//*T_ConnaissanceObjet*/]]--[[/*T_Action*//*E_EtatActionObjet*//*T_ConnaissanceObjet*//*Objet type*//*localisation*/]]--[[/*Objet type*//*localisation*/]]--[[/*T_Action*//*E_EtatActionObjet*//*T_ConnaissanceObjet*//*Objet type*//*localisation*/]]--[[/*T_Action*//*E_EtatActionObjet*//*T_ConnaissanceObjet*/]]--[[/*T_Action*//*E_EtatActionObjet*//*T_ConnaissanceObjet*/]]--[[/*T_Action*//*E_EtatActionObjet*//*T_ConnaissanceObjet*/]]--[[/*T_Action*//*T_ConnaissanceObjet*/]]--[[/*T_ConnaissanceObjet*/]]--[[/*T_ConnaissanceObjet*/]]--[[// Déplacement                          
]]--[[/*T_Action*//*E_EtatActionDeplacement*//*T_Itineraire*/]]--[[/*modulation*/]]--[[/*modulation*/]]--[[// Gestion itineraires                  
]]--[[/*T_Itineraire*//*T_Point : point d'arrivée*//*E_TypeItineraire*/]]--[[/*T_Itineraire*//*T_ListePoints : liste des points de l'itinéraire*//*E_TypeItineraire*/]]--[[/*T_Itineraire*/]]--[[/*E_EtatCalculItineraire*//*T_Itineraire*/]]--[[/*T_Point*//*Tps en minutes*//* True = N'extrapole pas au dela du dernier point de l'itinéraire*/]]--[[/*OUT T_ConnaissanceObjet*//*OUT Distance*//*Liste de strings des E_TypeObject à prendre en compte*/]]--[[/*T_Point*//*T_Itineraire*/]]--[[/*T_Itineraire*/]]--[[// Perception
]]--[[/*T_Point*/// teste si le point est visible par l'agent
]]--[[/*T_DIrection*/]]--[[/*T_Point*/]]--[[/*T_PerceptionPoint*//*T_Point*//*rayon de la reconnaissance*//* vitesse de propagation en km.h-1 *//* ack taille max obtenue */]]--[[/*T_PerceptionPoint*/]]--[[/*T_PerceptionLocalisation*//*T_Localisation*//*rien ou (R) rayon max*/]]--[[/*T_PerceptionLocalisation*/]]--[[/*E_RadarType*/]]--[[/*E_RadarType*/]]--[[/*T_PerceptionRadar*//*E_RadarType*//*T_Localisation*/]]--[[/*E_RadarType*//*T_PerceptionRadar*/]]--[[/*T_PerceptionLocalisationObjet*//*T_Localisation*//*T_Point center*//*ack taille max obtenue*//*R : vitesse de progression en km.h-1, par défaut 5 km.h-1*/]]--[[/*T_PerceptionLocalisationObjet*/]]--[[/*T_PerceptionTirIndirect*//*T_Localisation*/]]--[[/*T_PerceptionTirIndirect*/]]--[[// Renforcements
]]--[[/*T_ListePions*/]]--[[// Info agents                          
]]--[[/* hauteur de vol en m*/]]--[[// Retourne une valeur entre 0 et 1
]]--[[// Retourne une valeur entre 0 et 1
]]--[[/* E_TypeObject*/]]--[[/* T_ConnaissanceObjet */]]--[[/* T_ConnaissanceObjet */]]--[[/* T_ConnaissanceObjet */]]--[[/* T_ConnaissanceObjet */]]--[[/*T_Point*/]]--[[/*T_Direction*/]]--[[/*E_EtatNiveauInstallation*/]]--[[// En minutes
]]--[[// En minutes         
]]--[[/*E_EtatROEPopulation*/]]--[[/*T_Localisation*/]]--[[// Effets population
]]--[[/* temps en minutes */]]--[[/* temps en minutes *//*distance en m*/]]--[[// Etats décisionnel                    
]]--[[/*E_EtatRapportDeForce*/]]--[[/*E_EtatROE*/]]--[[/*E_EtatROEPopulation*/]]--[[/*E_EtatCombatDeRencontre*/]]--[[/*E_EtatOperationnel*/]]--[[/*E_DisponibiliteAuTir*/]]--[[// Connaissance agent                   
]]--[[/*T_ConnaissanceAgent*/// Retourne une valeur entre 0 et 1
]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_Point*//*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*E_NatureAtlasType*//*T_ConnaissanceAgent*/]]--[[/*E_NiveauPerception*//*T_ConnaissanceAgent*/// Retourne le niveau de perception MAX d'une connaissance (le plus haut niveau ayant été associé à cette connaissance depuis sa création)
]]--[[/*T_ConnaissanceAgent*/// Retourne la dangerosité, entre 1 et 2
]]--[[/*T_ConnaissanceAgent*//*T_Pion*/// Retourne la dangerosité, entre 1 et 2
]]--[[/*T_ConnaissanceAgent*//*T_ConnaissanceAgent*/// Retourne la dangerosité, entre 1 et 2        
]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*E_Tristate*//*T_ConnaissanceAgent*/// Retourn un E_Tristate (oui/non/nesaispas)
]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*E_ValiditeRequete*//*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*/]]--[[/*T_ConnaissanceAgent*//*T_Direction*//*angle en degré*/]]--[[/*T_ConnaissanceAgent*/]]--[[// Interceptions                        
]]--[[/*T_Point*//*T_ConnaissanceAgent*/// Attention, le résultat peut être nul
]]--[[/*T_Point*//*T_ConnaissanceAgent*//*T_Point position ini missile*//*vitesse missile*/// Attention, le résultat peut être nul
]]--[[// Connaissance objet                   
]]--[[/*T_ConnaissanceObjet*/]]--[[/*T_ConnaissanceObjet*/]]--[[/*T_ConnaissanceObjet*/]]--[[/*E_Tristate*//*T_ConnaissanceObjet*/]]--[[/*T_ConnaissanceObjet*/]]--[[/*T_Localisation*//*T_ConnaissanceObjet*/]]--[[/*E_TypeObject*//*T_ConnaissanceObjet*/]]--[[/*T_ConnaissanceObjet*/]]--[[/*T_ConnaissanceObjet*/]]--[[/*E_ValiditeRequete&*//*T_ConnaissanceObjet*/]]--[[/*T_ConnaissanceObjet*/]]--[[/*T_ConnaissanceObjet*/]]--[[/*T_ConnaissanceObjet*/]]--[[/*E_ValiditeRequete&*//*T_Population_ConnaissanceObjet*//*facteur de degradation 0..1*/]]--[[/*T_Population_ConnaissanceObjet*//*densite*/]]--[[/*T_Population_ConnaissanceObjet*/]]--[[// Connaissance population
]]--[[/*T_ConnaissancePopulation*//*E_ValiditeRequete&*/]]--[[/* E_AttitudePopulation *//*T_ConnaissancePopulation*/]]--[[/*T_ConnaissancePopulation*/]]--[[/*T_ConnaissancePopulation*/]]--[[/*T_ConnaissancePopulation*/]]--[[/*T_ConnaissancePopulation*/// Retourne la dangerosité, entre 1 et 2
]]--[[/*T_ConnaissancePopulation*//*T_Localisation*/]]--[[/*T_Point*//*T_ConnaissancePopulation*/]]--[[/*T_ConnaissancePopulation*/]]--[[/*T_Point*//*T_ConnaissancePopulation*/]]--[[/*E_Tristate*//*T_ConnaissancePopulation*/// Retourn un E_Tristate (oui/non/nesaispas)    
]]--[[/*E_ValiditeRequete*//*T_ConnaissancePopulation*//*surface exterminée*/]]--[[// Requêtes connaissance globale           
]]--[[/*T_Automate*//*delai en minutes*/]]--[[/*T_Automate*//*centre du cercle de la zone*//*rayon du cercle de la zone*/]]--[[/*T_ListeConnaissancesObjet*/]]--[[/*T_ListeConnaissancesObjet*//*T_Point centre du cercle*//*rayon*//*E_TypeObjects*/]]--[[/*T_ListeConnaissancesObjet*//*T_Localisation zone*//*E_TypeObjects*/]]--[[/*T_ListeConnaissancesObjet*//*E_TypeObjects*/]]--[[/*T_ConnaissanceObjet*//*E_TypeObjects*/]]--[[/*T_ConnaissanceObjet*//*E_TypeObjects*/]]--[[/*T_ListeConnaissancesPopulation*/]]--[[/*T_ListeConnaissancesPopulation*/]]--[[/*T_ListeConnaissancesPopulation*/]]--[[// NB : Les refugies et unités rendues ne sont jamais retournées dans les fonctions autre que DEC_Connaissances_RefugiesAProximite() et DEC_Connaissances_UnitesRenduesAProximite()
]]--[[/*T_ListeConnaissancesAgent*/]]--[[/*T_ListeConnaissancesAgent*//*T_Localisation*/]]--[[/*T_ListeConnaissancesAgent*/]]--[[/*T_ListeConnaissancesAgent*/]]--[[/*T_ListeConnaissancesAgent*/]]--[[/*T_ListeConnaissancesAgent*//*T_Pion*/]]--[[/*T_ListeConnaissancesAgent*/]]--[[/*T_ListeConnaissancesAgent*/]]--[[/*T_ListeConnaissancesAgent*//*T_Localisation*/]]--[[/*T_ListeConnaissancesAgent*//*T_Point centre cercle zone*//*rayon*/]]--[[/*T_ListeConnaissancesAgent*//*T_Localisation*/]]--[[/*T_Point centre cercle zone*//*rayon*/]]--[[/*T_ListeConnaissancesAgent*//*distance*/]]--[[/*T_ListeConnaissancesAgent*//*distance*/]]--[[// Retourne une valeur entre 0.2 et 5 (0.2 = très défavorable / 2.4 = neutre / 5 = favorable)
]]--[[// Ordres                               
]]--[[/*T_Pion*/]]--[[/*T_Pion*/]]--[[// Limas / Missions
]]--[[/*T_Lima*//*E_TypeLima*/// Retourn un T_Lima, ou 0 si pas de lima du type demandé
]]--[[/*T_Lima*//*bFlag*/]]--[[/*T_Lima*/]]--[[/*T_Lima*//*bFlag*/]]--[[// Geometrie                            
]]--[[/*T_Point*//*T_Pion*//*rDist*/]]--[[/*T_Point*//*T_Point point d'embuscade*//*T_Point point de retraite*//*Distance*/]]--[[/*T_Point*//*T_ConnaissanceAgent*//*distance min*/]]--[[/*T_Point*//*T_ConnaissancePopulation*//*distance min*/]]--[[/*T_Point*//*T_ConnaissanceAgent*//*distance min*//*T_Point objectif*/]]--[[/*T_Point*//*vCircleCenter*//*Obstacle type*//*rayon*/]]--[[/*T_Point*//*T_Localisation localisation*/]]--[[/*T_Point*//*T_Localisation localisation*/]]--[[/*T_ListeLocalisations*//*T_Localisation*//*nbr part*//*E_LocalisationFunctionsReturnCode*/]]--[[/*T_ListeLocalisations*//*T_Localisation*//*surface moyenne en m2*//*E_LocalisationFunctionsReturnCode*/]]--[[/*T_LIsteLocalisations*//*profondeur des segments en m*/]]--[[/*T_Point*//*T_Localisation*/]]--[[/*T_Point*/]]--[[/*T_Point*/]]--[[/*T_Point*/]]--[[/*T_Point*/]]--[[/*T_Point*//*T_ListeConnaissancesAgent*/]]--[[/*T_ListePions*//*T_Direction*/]]--[[/*T_ListePions*//*T_Direction*/]]--[[// Etat                                 
]]--[[/*facteur d'élongation du pion*/]]--[[// Facteurs humains                     
]]--[[/*E_FacteurHumain_Fatigue*/]]--[[/*E_FacteurHumain_Moral*/]]--[[// Hiérarchie                           
]]--[[/*T_ListePions*/]]--[[/*T_ListePions*/]]--[[/*T_Pion*/]]--[[/*T_Pion*//*T_Automate*/]]--[[/*T_ListePions*//*T_Automate*/]]--[[/*T_Automate*/]]--[[// Logistique                           
]]--[[/*T_Action*//*action terminee ?*//*T_Pion*//*nombre*/]]--[[/*T_Pion*//*nombre*/]]--[[/*T_Action*//*action terminee ?*//*T_Pion*//*nombre*/]]--[[/*T_Pion*//*nombre*/]]--[[/*T_Automate*/// ATTENTION : La valeur de retour peut être nulle
]]--[[/*E_TypeDotation*//* ratio (0..1) par rapport aux capacités du pion*//*I E_DotationMunitionClasse*/]]--[[// Test / debug 
]]--[[/*T_Point*/]]--[[/*T_ListePoints*/]]--[[// Migration Representations
]]--[[/*T_Direction */]]