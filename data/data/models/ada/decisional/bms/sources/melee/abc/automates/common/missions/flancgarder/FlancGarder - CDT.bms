includedFiles = includedFiles or {}
includedFiles["sources/melee/abc/automates/common/missions/flancgarder/FlancGarder - CDT.bms"] = true

--[[// *****************************************************************************
]]--[[//
]]--[[// $Created: MIA 04-04-26 $
]]--[[// $Archive: /MVW_v10/Build/Data/Data/Modeles/Sources/Melee/Abc/Automates/Common/Missions/FlancGarder/FlancGarder - CDT.hal $
]]--[[// $Author: Ggr $
]]--[[// $Modtime: 25/07/05 9:59 $
]]--[[// $Revision: 14 $
]]--[[// $Workfile: FlancGarder - CDT.hal $
]]--[[//
]]--[[// *****************************************************************************
]]


--[[// *****************************************************************************
]]--[[// BEH_Conduite_Automate_ABC_FlancGarder
]]--[[//
]]--[[// Commentaires:
]]--[[//
]]--[[// *****************************************************************************
]]node "BEH_Conduite_Automate_ABC_FlancGarder"
{
    activations =
    {
        { "BEH_CoordDep_Automate_ABC_AssurerLaCoordinationInterne_", {} },
        { "BEH_CoordDep_Automate_ABC_SeCoordonnerAvecAmi_", {} },
        { "ACT_Info_Automate_Trace", {} },
        { "BEH_Ordre_Automate_Attendre_", {} },
        { "BEH_Dispositif_Automate_ABC_GererLesAppuis_", {} },
        { "BEH_Dispositif_Automate_ABC_GererPionsDetruits_", {} },
        { "BEH_Dispositif_Automate_ABC_GererLeSE_", {} },
        { "BEH_RC_Automate_GererConditionOperationnelle", {} },
    },

    create = function( self )
        self._namedParams = {}
        self._namedParams.pionACouvrir = self.params[1]
    end,

    activate = function( self )
        Activate( self.activations.BEH_CoordDep_Automate_ABC_AssurerLaCoordinationInterne_, 1, {} )--[[//-----------------------------------------------------------------------------
]]--[[// Coordination --> est ce utile ici
]]--[[//-----------------------------------------------------------------------------
]]
        if( DEC_GetMission( self._namedParams.pionACouvrir ) ~= nil ) then
            Activate( self.activations.BEH_CoordDep_Automate_ABC_SeCoordonnerAvecAmi_, 1, { self._namedParams.pionACouvrir, true, } )
        else
do
                Activate( self.activations.ACT_Info_Automate_Trace, 1, { "$$$ L'unité amie n'a pas de mission, en attente $$$", } )
                Activate( self.activations.BEH_Ordre_Automate_Attendre_, 1, {} )
            end
--[[//-----------------------------------------------------------------------------
]]--[[// Gestion appuis et releve et SE
]]--[[//-----------------------------------------------------------------------------
]]        end

        Activate( self.activations.BEH_Dispositif_Automate_ABC_GererLesAppuis_, 1, {} )
        --[[// Avec relève
]]Activate( self.activations.BEH_Dispositif_Automate_ABC_GererPionsDetruits_, 1, { true, } )
        Activate( self.activations.BEH_Dispositif_Automate_ABC_GererLeSE_, 1, {} )
        --[[//-----------------------------------------------------------------------------
]]--[[// Condition opérationnelle
]]--[[//-----------------------------------------------------------------------------
]]Activate( self.activations.BEH_RC_Automate_GererConditionOperationnelle, 1, { eEtatEchelon_Eclairage, } )
    end,

}

connections = connections or {}
connections[ #connections + 1 ] = { nodes.BEH_Conduite_Automate_ABC_FlancGarder, "BEH_CoordDep_Automate_ABC_AssurerLaCoordinationInterne_", nodes.BEH_CoordDep_Automate_ABC_AssurerLaCoordinationInterne_ }
connections[ #connections + 1 ] = { nodes.BEH_Conduite_Automate_ABC_FlancGarder, "BEH_CoordDep_Automate_ABC_SeCoordonnerAvecAmi_", nodes.BEH_CoordDep_Automate_ABC_SeCoordonnerAvecAmi_ }
connections[ #connections + 1 ] = { nodes.BEH_Conduite_Automate_ABC_FlancGarder, "ACT_Info_Automate_Trace", nodes.ACT_Info_Automate_Trace }
connections[ #connections + 1 ] = { nodes.BEH_Conduite_Automate_ABC_FlancGarder, "BEH_Ordre_Automate_Attendre_", nodes.BEH_Ordre_Automate_Attendre_ }
connections[ #connections + 1 ] = { nodes.BEH_Conduite_Automate_ABC_FlancGarder, "BEH_Dispositif_Automate_ABC_GererLesAppuis_", nodes.BEH_Dispositif_Automate_ABC_GererLesAppuis_ }
connections[ #connections + 1 ] = { nodes.BEH_Conduite_Automate_ABC_FlancGarder, "BEH_Dispositif_Automate_ABC_GererPionsDetruits_", nodes.BEH_Dispositif_Automate_ABC_GererPionsDetruits_ }
connections[ #connections + 1 ] = { nodes.BEH_Conduite_Automate_ABC_FlancGarder, "BEH_Dispositif_Automate_ABC_GererLeSE_", nodes.BEH_Dispositif_Automate_ABC_GererLeSE_ }
connections[ #connections + 1 ] = { nodes.BEH_Conduite_Automate_ABC_FlancGarder, "BEH_RC_Automate_GererConditionOperationnelle", nodes.BEH_RC_Automate_GererConditionOperationnelle }
