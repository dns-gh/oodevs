includedFiles = includedFiles or {}
includedFiles["sources/glaise/glaise_common/pions/behaviors/Behaviors - Misc.bms"] = true

local emptyTable = emptyTable


--[[// *****************************************************************************
]]--[[// BEH_Misc_Defini_AppuisMobile
]]--[[//
]]--[[// Commentaires: Lors du controle de zone, dit aux pions en appuis, 
]]--[[//               qu'ils peuvent etre mobile dans la zone.
]]--[[//          
]]--[[//              OPT: MIA: Spé JCR (inf, commando, milice) A DEPLACER
]]--[[//               
]]--[[// *****************************************************************************
]]node "BEH_Misc_Defini_AppuisMobile"
{
    feedbacks = { { { "done_BEH_Misc_Defini_AppuisMobile" }, "BEH_Misc_Defini_AppuisMobile" } },
    SendFeedback = function( self, value ) Feedback( self.feedbacks.done_BEH_Misc_Defini_AppuisMobile, {value} ) end,
    activations =
    {
        { "ACT_MAJ_EnAppuiPionMobile", { "done_ACT_MAJ_EnAppuiPionMobile" } },
    },

    create = function( self )
    end,

    activate = function( self )
        local Activate = Activate
        for _,x_appui in pairs( F_Pion_GetselUnitesEnAppui( myself ) or emptyTable ) do
        local _continue = true
            Activate( self.activations.ACT_MAJ_EnAppuiPionMobile, 1, { x_appui, } )

        end

    end,

--[[// *****************************************************************************
]]--[[// BEH_Misc_Pion_DefinirTypeMission
]]--[[//
]]--[[// Commentaires: Utiliser lors du combat de rencontre, pour definir le type 
]]--[[//               de gestion du feu face a l'ennemi
]]--[[//              
]]--[[//               OPT: MIA: Spé JCR (inf, commando, milice) A DEPLACER
]]--[[//              
]]--[[// *****************************************************************************
]]}

node "BEH_Misc_Pion_DefinirTypeMission"
{
    feedbacks = { { { "done_BEH_Misc_Pion_DefinirTypeMission" }, "BEH_Misc_Pion_DefinirTypeMission" } },
    SendFeedback = function( self, value ) Feedback( self.feedbacks.done_BEH_Misc_Pion_DefinirTypeMission, {value} ) end,
    instances =
    {
        max = 1,
    },

    create = function( self )
        self._namedParams = {}
        self._namedParams.eTypeContact = self.params[1]
    end,

    activate = function( self )
        local Activate = Activate
                self.eTypeContact_Old = self.eTypeContact_Old or F_Pion_GeteTypeContact( myself )
        if( ModuleBegins() ) then
            F_Pion_SeteTypeContact( myself, self._namedParams.eTypeContact )
        end

    end,

    destroy = function( self )
                F_Pion_SeteTypeContact( myself, self.eTypeContact_Old )
    end,

}

connections = connections or {}
connections[ #connections + 1 ] = { nodes.BEH_Misc_Defini_AppuisMobile, "ACT_MAJ_EnAppuiPionMobile", nodes.ACT_MAJ_EnAppuiPionMobile }
