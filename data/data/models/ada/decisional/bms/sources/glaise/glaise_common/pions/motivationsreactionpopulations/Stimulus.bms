includedFiles = includedFiles or {}
includedFiles["sources/glaise/glaise_common/pions/motivationsreactionpopulations/Stimulus.bms"] = true

local emptyTable = emptyTable

include "bit.lua"


--[[// *****************************************************************************
]]--[[//  STIMULUS STIM_PopulationDangereuse
]]--[[//
]]--[[//  Commentaires:
]]--[[//
]]--[[// *****************************************************************************
]]motivation_plugin = motivation_plugin or {}
motivation_plugin.stimuli = motivation_plugin.stimuli or {}
motivation_plugin.statevariables = motivation_plugin.statevariables or {}
motivation_plugin.emotions = motivation_plugin.emotions or {}
motivation_plugin.motivations = motivation_plugin.motivations or {}

motivation_plugin.stimuli["STIM_PopulationDangereuse"] = function()
        local lstPops = DEC_Connaissances_Populations()
        for _,pop in pairs( lstPops or emptyTable ) do
        local _continue = true
do
                local domination = 0
                domination = DEC_ConnaissancePopulation_Domination( pop )
                pop = domination.second
                domination = domination.first
                if( ( DEC_ConnaissancePopulation_Dangerosite( pop ) > 1 ) and ( domination > 0 ) ) then
                    do
                        SetStimulus( "STIM_PopulationDangereuse", 1 )
                                                do return end

                    end
                end

            end
--[[// Par défaut
]]
        end

        SetStimulus( "STIM_PopulationDangereuse", 0 )
    --[[// *****************************************************************************
]]--[[//  STIMULUS STIM_PriseAPartiParPopulation
]]--[[//
]]--[[//  Commentaires:
]]--[[//
]]--[[// *****************************************************************************
]]    end

motivation_plugin.stimuli["STIM_PriseAPartiParPopulation"] = function()
        if( not DIA_IsListEmpty( DEC_Connaissances_PopulationsPrenantAPartie() ) ) then
            SetStimulus( "STIM_PriseAPartiParPopulation", 1 )
        else
            SetStimulus( "STIM_PriseAPartiParPopulation", 0 )
        end

    --[[// *****************************************************************************
]]--[[//  STIMULUS STIM_TenirFaceAPopulation
]]--[[//
]]--[[//  Commentaires:
]]--[[//
]]--[[// *****************************************************************************
]]    end

motivation_plugin.stimuli["STIM_TenirFaceAPopulation"] = function()
        --[[//tenir tant que l'on est en état
]]if( ( DEC_Agent_EtatOps() < 0.2 ) or ( DEC_FacteurHumain_Fatigue() == eFatigue_Epuise ) ) then
            SetStimulus( "STIM_TenirFaceAPopulation", 0 )
        else
            SetStimulus( "STIM_TenirFaceAPopulation", 1 )
        end

        end

