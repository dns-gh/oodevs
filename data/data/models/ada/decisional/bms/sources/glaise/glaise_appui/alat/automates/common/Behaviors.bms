includedFiles = includedFiles or {}
includedFiles["sources/glaise/glaise_appui/alat/automates/common/Behaviors.bms"] = true

local emptyTable = emptyTable

--[[//génériques automates scipio
]]include "glaise/glaise_Common/Automates/Behaviors.bms"

--[[//inclusion des actions communes aux automates alat
]]include "glaise/glaise_Appui/Alat/Automates/Common/Actions.bms"


include "glaise/glaise_Common/Automates/Behaviors/Medo/Behaviors - Medo - ALAT.bms"


--[[//comportements Génériques des automates ALAT
]]--[[//------------------------------------------------------------------------------
]]include "glaise/glaise_Appui/Alat/Automates/Common/Behaviors/Behaviors - Manoeuvre.bms"

include "glaise/glaise_Appui/Alat/Automates/Common/Behaviors/Behaviors - Tir.bms"

include "glaise/glaise_Appui/Alat/Automates/Common/Behaviors/Behaviors - Log.bms"

include "glaise/glaise_Appui/Alat/Automates/Common/Behaviors/Behaviors - Rc.bms"


--[[//------------------------------------------------------------------------------
]]--[[// Comportement par défaut.
]]--[[//
]]--[[// Commentaires: Les helicopteres sont tous posés pour au debut. Ils n'ont pas
]]--[[//d'objectif ni de plot de rafitaillement
]]--[[//------------------------------------------------------------------------------
]]node "BEH_Defaut"
{
    feedbacks = { { { "done_BEH_Defaut" }, "BEH_Defaut" } },
    SendFeedback = function( self, value ) Feedback( self.feedbacks.done_BEH_Defaut, {value} ) end,
    activations =
    {
        { "BEH_RC_Automate_Situation", { "done_BEH_RC_Automate_Situation" } },
        { "BEH_Ordre_Automate_RecevoirOrdreInopine", { "done_BEH_Ordre_Automate_RecevoirOrdreInopine" } },
        { "BEH_Nbc_Automate_GererAlerteNiv4", { "done_BEH_Nbc_Automate_GererAlerteNiv4" } },
        { "BEH_ROE_Automate_GererOrdre", { "done_BEH_ROE_Automate_GererOrdre" } },
        { "BEH_RC_Automate_ALAT_Situation", { "done_BEH_RC_Automate_ALAT_Situation" } },
        { "BEH_Rens_Automate_GererSilenceRadio", { "done_BEH_Rens_Automate_GererSilenceRadio" } },
        { "BEH_Log_Automate_ALAT_AjoutNouveauxPlotsDansFuseau", { "done_BEH_Log_Automate_ALAT_AjoutNouveauxPlotsDansFuseau" } },
        { "BEH_Log_Automate_ALAT_GererPlotsRavitaillement", { "done_BEH_Log_Automate_ALAT_GererPlotsRavitaillement" } },
    },

    create = function( self )
        self._namedParams = {}
        self._namedParams.nDummy = self.params[1]
    end,

    activate = function( self )
        local Activate = Activate
        self.listePionsAvecPC = self.listePionsAvecPC or {}
        self.listePionsAvecPC = DEC_Automate_PionsAvecPC()
        --[[//netoyage des connaissances
]]myself.sPlotsDeRavitaillement_ = S_Obj_ListeObjetsValides( myself.sPlotsDeRavitaillement_ )
        Activate( self.activations.BEH_RC_Automate_Situation, 1, emptyTable )--[[// ---------------------------------------------------------------------
]]--[[// CR automates génériques sur eni et situation mission
]]--[[// ---------------------------------------------------------------------
]]
        --[[// -------------------------------------------------------------------------
]]--[[// si l'automate n'est pas embrayé
]]--[[// -------------------------------------------------------------------------
]]if( DEC_Automate_EstEmbraye() ) then
            do
                Activate( self.activations.BEH_Ordre_Automate_RecevoirOrdreInopine, 1, emptyTable )
                Activate( self.activations.BEH_Nbc_Automate_GererAlerteNiv4, 1, emptyTable )--[[// ---------------------------------------------------------------------
]]--[[// Mettre les combinaisons Nbc si alerte de niveau 4
]]--[[// ---------------------------------------------------------------------
]]
                Activate( self.activations.BEH_ROE_Automate_GererOrdre, 1, emptyTable )--[[//----------------------------------------------------------------------
]]--[[// ROE --> Tir libre, sur riposte, interdit
]]--[[//----------------------------------------------------------------------
]]
                Activate( self.activations.BEH_RC_Automate_ALAT_Situation, 1, emptyTable )--[[// ---------------------------------------------------------------------
]]--[[// CR automates spécifique à l'ALAT
]]--[[// ---------------------------------------------------------------------
]]
                Activate( self.activations.BEH_Rens_Automate_GererSilenceRadio, 1, emptyTable )--[[// ---------------------------------------------------------------------
]]--[[// Gestion de l'ordre de conduite Silence Radio/radar
]]--[[// ---------------------------------------------------------------------
]]
                if( DEC_GetMission( myself ) ~= nil ) then
                    do
                        Activate( self.activations.BEH_Log_Automate_ALAT_AjoutNouveauxPlotsDansFuseau, 1, emptyTable )--[[// -----------------------------------------------------------------
]]--[[// Ajout des plots dans mon fuseau si j'ai une mission
]]--[[// -----------------------------------------------------------------
]]
                        Activate( self.activations.BEH_Log_Automate_ALAT_GererPlotsRavitaillement, 1, emptyTable )--[[// -----------------------------------------------------------------
]]--[[// choix des plots de ravitaillement des pions subordonnés
]]--[[// -----------------------------------------------------------------
]]
                    end
                end

            end
        end

    end,

}

connections = connections or {}
connections[ #connections + 1 ] = { nodes.BEH_Defaut, "BEH_RC_Automate_Situation", nodes.BEH_RC_Automate_Situation }
connections[ #connections + 1 ] = { nodes.BEH_Defaut, "BEH_Ordre_Automate_RecevoirOrdreInopine", nodes.BEH_Ordre_Automate_RecevoirOrdreInopine }
connections[ #connections + 1 ] = { nodes.BEH_Defaut, "BEH_Nbc_Automate_GererAlerteNiv4", nodes.BEH_Nbc_Automate_GererAlerteNiv4 }
connections[ #connections + 1 ] = { nodes.BEH_Defaut, "BEH_ROE_Automate_GererOrdre", nodes.BEH_ROE_Automate_GererOrdre }
connections[ #connections + 1 ] = { nodes.BEH_Defaut, "BEH_RC_Automate_ALAT_Situation", nodes.BEH_RC_Automate_ALAT_Situation }
connections[ #connections + 1 ] = { nodes.BEH_Defaut, "BEH_Rens_Automate_GererSilenceRadio", nodes.BEH_Rens_Automate_GererSilenceRadio }
connections[ #connections + 1 ] = { nodes.BEH_Defaut, "BEH_Log_Automate_ALAT_AjoutNouveauxPlotsDansFuseau", nodes.BEH_Log_Automate_ALAT_AjoutNouveauxPlotsDansFuseau }
connections[ #connections + 1 ] = { nodes.BEH_Defaut, "BEH_Log_Automate_ALAT_GererPlotsRavitaillement", nodes.BEH_Log_Automate_ALAT_GererPlotsRavitaillement }
