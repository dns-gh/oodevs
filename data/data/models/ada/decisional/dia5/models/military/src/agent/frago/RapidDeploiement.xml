<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="agent.frago.RapidDeploiement" source-version="1.0.0">
	<description>Ordre de conduite de sauvegarde face Ã  des tirs de contre batterie.</description>
	<parameters>
		<parameter name="entity">
			<type>
				<class name="properties.IndirectFireable"/>
			</type>
		</parameter>
		<parameter name="munition">
			<type>
				<simple name="numeric"/>
			</type>
		</parameter>
		<parameter name="interventionType">
			<type>
				<simple name="numeric"/>
			</type>
		</parameter>
		<parameter name="firePositions">
			<type>
				<list>
					<class name="properties.Reaching"/>
				</list>
			</type>
		</parameter>
	</parameters>
	<goal>
		<description>Se sauvegarder sur la position.</description>
	</goal>
	<stages>
		<stage label="Deploiement">
			<skills>
				<skill name="agent.skills.EnsureIndirectFire" main="true" priority="1000.0">
					<parameter name="callByFragOrder">
						<value>
							<boolean>true</boolean>
						</value>
					</parameter>
					<parameter name="firePositions">
						<value>
							<parameter>firePositions</parameter>
						</value>
					</parameter>
				</skill>
			</skills>
		</stage>
		<stage label="Appliquer feux" disable-when-done="true">
			<skills>
				<skill name="agent.skills.ApplyIndirectFire" main="true" priority="1000.0">
					<parameter name="entities">
						<value>
							<list>
								<parameter>entity</parameter>
							</list>
						</value>
					</parameter>
					<parameter name="interventionType">
						<value>
							<parameter>interventionType</parameter>
						</value>
					</parameter>
					<parameter name="munition">
						<value>
							<parameter>munition</parameter>
						</value>
					</parameter>
					<parameter name="canReceiveUnexpectedOrder">
						<value>
							<boolean>false</boolean>
						</value>
					</parameter>
				</skill>
			</skills>
		</stage>
	</stages>
</task>