-- **************************************************************************** 
-- Build: to contruct a bridge on a crossing site object.
--
-- ****************************************************************************
rootnode 
{
    connections = 
    { 
        skill.links.buildWithReinforcement,
        skill.links.buildWithoutReinforcement
    },
    feedbacks =   { "worksDone" },

    -- -------------------------------------------------------------------------------- 
    -- Slots
    -- --------------------------------------------------------------------------------
    done = function( self, params )
        Feedback( self.feedbacks.done )
        Feedback( self.feedbacks.worksDone )
    end,

    -- -------------------------------------------------------------------------------- 
    -- Init
    -- --------------------------------------------------------------------------------
    activate = function( self )
        local Activate = Activate
        if self.params.waitForReinforcement then
            Activate( skill.links.buildWithReinforcement, 1, 
              { entities = self.params.entities, withImprovement = self.params.withImprovement } )
        else
            Activate( skill.links.buildWithoutReinforcement, 1, 
              { entities = self.params.entities, withImprovement = self.params.withImprovement } )
        end
    end 
}