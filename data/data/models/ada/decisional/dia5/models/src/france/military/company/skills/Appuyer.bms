rootnode 
{
    connections = { skill.nodes.Lead },

    done = function( self ) end,

    -- -------------------------------------------------------------------------------- 
    -- Init
    -- --------------------------------------------------------------------------------
    create = function ( self )
        self.entitiesToSupport = {}
        myself.leadRedoneByHigherSkill = false -- if set to true : lead is redone
    end,

    activate = function( self )
        self.entitiesToSupport = integration.query.getEntitiesToCombatSupportTask( self.params.company, self.entitiesToSupport )

        Activate( skill.nodes.Lead , 1, { companyTask = self.params.companyTask,
                                     mainTask = self.params.mainTask, supportTask = self.params.supportTask,
                                     defaultTask = self.params.defaultTask, taskForSupporting = self.params.taskForSupporting, self.entitiesToSupport } )
    end,   
}

node "Lead"
{
    connections = { skill.links.lead },
    create = function ( self )
        self.bInit = true
        myself.leadRedoneByHigherSkill = true
    end,
    activate = function( self )
        if self.bInit then
            self.bInit = false
            return
        end
        Activate( skill.links.lead, 1, { companyTask = self.params.companyTask,
                                     mainTasks = self.params.mainTask, supportTasks = self.params.supportTask,
                                     defaultTask = self.params.defaultTask, taskForSupporting = self.params.taskForSupporting, noCoordination = true } )
    end,                                     
}
