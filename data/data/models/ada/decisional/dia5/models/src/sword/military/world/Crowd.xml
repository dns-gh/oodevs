<?xml version="1.0" encoding="UTF-8"?>
<class xmlns="http://www.masagroup.net/directia/schemas/bm" name="sword.military.world.Crowd" source-version="1.0.0" extends="sword.military.world.LocalizedElement">
    <description>Représentation d'une foule.</description>
    <realizes>sword.military.knowledge.decisional.Approachable</realizes>
    <realizes>sword.military.knowledge.Askable</realizes>
    <realizes>sword.military.knowledge.Controlable</realizes>
    <realizes>sword.military.knowledge.Attackable</realizes>
    <realizes>sword.military.knowledge.Motile</realizes>
    <methods>
        <method name="computeRelation">
            <description>__INTEGRATION</description>
            <argument name="objective">
                <description>L'unité avec laquelle on veut calculer sa relation de diplomatie</description>
                <type>
                    <class name="sword.military.knowledge.decisional.Observable"/>
                </type>
            </argument>
            <return>
                <description>Retourne la valeur de la relation entre 0 et 100</description>
                <type>
                    <simple name="numeric"/>
                </type>
            </return>
        </method>
        <method name="getProximity">
            <description>__INTEGRATION</description>
            <argument name="objective">
                <description>L'élément objectif</description>
                <type>
                    <class name="sword.military.knowledge.decisional.Reachable"/>
                </type>
            </argument>
        </method>
        <method name="getPerception">
            <description>__INTEGRATION</description>
            <return>
                <description>Retourne la valeur de la perception de l'element par l'agent entre 0 et 100.</description>
                <type>
                    <simple name="numeric"/>
                </type>
            </return>
        </method>
        <method name="getPosition">
            <description>Fonction d'intégration</description>
        </method>
        <method name="getPositions">
            <description>Fonction d'intégration retournant une liste de MT_Vector2D (ici la même que getPosition)</description>
        </method>
        <method name="getMyPosition">
            <description>Fonction d'intégration retournant un Point qui a pour coordonnées ma position.</description>
            <return>
                <type>
                    <class name="sword.military.knowledge.decisional.Reachable"/>
                </type>
            </return>
        </method>
        <method name="getHeadPosition">
            <return>
                <type>
                    <class name="sword.military.world.Point"/>
                </type>
            </return>
        </method>
        <method name="approachPriority">
            <description>
                Renvoie la priorité du déplacement vers cet élément.

                Cette priorité est calculée en fonction de la distance séparant l'agent et l'élément à approcher. Cette
                priorité peut également dépendre de la nature même de l'élément.
            </description>
            <return>
                <type>
                    <simple name="numeric"/>
                </type>
            </return>
        </method>
        <method name="getInformations">
            <description>Spécifique à la foule, cette fonction permet au pion d'avoir des renseignements sur la foule.</description>
            <return name="return">
                <type>
                    <simple name="boolean"/>
                </type>
            </return>
        </method>
        <method name="canApproachIt">
            <description>Renvoie vrai si les conditions d'approche vers l'élément sont réunies.</description>
            <return>
                <type>
                    <simple name="boolean"/>
                </type>
            </return>
        </method>
        <method name="getRole">
            <return>
                <type>
                    <simple name="string"/>
                </type>
            </return>
        </method>
        <method name="moveToIt">
            <description>Action de se déplacer vers l'élément.

            Cette action permet à l'agent de se déplacer de façon simple vers l'élément.
      </description>
            <argument name="pathType">
                <description>Le paramètrage du calcul de l'itinéraire</description>
                <type>
                    <simple name="numeric"/>
                </type>
            </argument>
            <return>
                <type>
                    <simple name="boolean"/>
                </type>
            </return>
        </method>
        <method name="observeIt" abstract="false">
            <description>Action d'observation de l'élément.
            Cette action permet à l'agent d'observer l'élément. Pour un individu, il peut s'agir d'une orientation simple des senseurs, sans se soucier 
            de l'efficacité du senseur pour l'indentification de l'élément. Pour une entité de plus haut niveau (équipe ou groupe) il s'agit de 
            l'effort d'observation vers l'élément (direction principale d'observation vers l'élément).
            </description>
        </method>
        <method name="destroyMoveToIt" abstract="false"/>
        <method name="getTasks" abstract="false">
            <return>
                <type>
                    <list>
                        <class name="common.Task"/>
                    </list>
                </type>
            </return>
        </method>
        <method name="interrogateIt" abstract="false">
            <description>Interroger la cible.</description>
            <return name="criticalIntelligence">
                <type>
                    <simple name="boolean"/>
                </type>
            </return>
        </method>
        <method name="controlIt" abstract="false">
            <description>Effet de contrôle d'un élement. Cette implémentation, modélise deux effets: la sécurisation de la foule (faire en sorte qu'elle soit dominée) et le fait d'accéder aux informations relatives à cette dernière (atttiude, nombre etc.). L'accès aux information sur la foule n'est effectif que si elle est totalement sécurisée. Pour rappel, la sécurisation peut être temporaire. </description>
            <return>
                <description>Renvoie vrai quand le côntrole du bloc est effective (en cours).</description>
                <type>
                    <simple name="boolean"/>
                </type>
            </return>
        </method>
        <method name="attackIt" abstract="false">
            <description>Action physique de l'attentat.</description>
            <argument name="suicide">
                <description>Si l'attentat est un attentat suicide.</description>
                <type>
                    <simple name="boolean"/>
                </type>
            </argument>
            <argument name="dotation">
                <description>Munition utilisée pouu commettre l'attentat.</description>
                <type>
                    <simple name="numeric"/>
                </type>
            </argument>
            <return>
                <description>Retourne vrai quand l'attentat est effectué.</description>
                <type>
                    <simple name="boolean"/>
                </type>
            </return>
        </method>
        <method name="getDomination">
            <return>
                <description>Renvoir le domination de la foule.</description>
                <type>
                    <simple name="numeric"/>
                </type>
            </return>
        </method>
        <method name="respondToIt" abstract="false">
            <description>Action de tir de riposte</description>
        </method>
        <method name="dangerosityLevel" abstract="false">
            <description>Retourne le niveau de dangerosité de la connaissance&#xD;
</description>
            <return>
                <type>
                    <simple name="numeric"/>
                </type>
            </return>
        </method>
        <method name="affinityLevel" abstract="false">
            <description>Retourne le niveau d'affinité par rapport à la connaissance</description>
            <return>
                <type>
                    <simple name="numeric"/>
                </type>
            </return>
        </method>
        <method name="isInAttackRange" abstract="false">
            <argument name="suicide">
                <type>
                    <simple name="boolean"/>
                </type>
            </argument>
            <argument name="dotation">
                <type>
                    <simple name="numeric"/>
                </type>
            </argument>
            <return>
                <type>
                    <simple name="boolean"/>
                </type>
            </return>
        </method>
        <method name="loadIt" abstract="false">
          <description>
            To load this crowd into vehicules. Only concentration of crowds can be loaded. To load an entire crowd, the agent needs to have suffficient capacity regarding its equipement (see authoring tool). To transport a all crowd, the agent may perform many round trip.&#xD;
            &#xD;
            This implementation manage hidden terrorists. If hidden units stay into the crowd (they hide using the &quot;hideInCrowd&quot; skill) this action will automatically load them (but the agent won't know them).
          </description>
        </method>
        <method name="unloadIt" abstract="false">
          <description>
            To unload this crowd onto the given position. Only concentration of crowds can be unloaded. To transport a all crowd, the agent may perform many round trips.&#xD;
            &#xD;
            This implementation manage hidden terrorists. If hidden units stay into the crowd (they hide using the &quot;hideInCrowd&quot; skill) this action will automatically unload them (but the agent won't know them).
          </description>
          <argument name="position">
            <description>The position to unload the crowd onto.</description>
            <type>
              <class name="sword.military.knowledge.decisional.Positionable"/>
            </type>
          </argument>
        </method>
        <method name="isMoving" abstract="false">
            <description>Returns 'true' if this element is moving, 'false' otherwise.</description>
        </method>
        <method name="canBeFollowed" abstract="false">
            <description>Retourne "vrai" si cet élément peut être suivi par l'agent, "faux" sinon. Cette implémentation retourne "vrai" si cet élément est opérationnel, ie: un élément</description>
        </method>
        <method name="getName" abstract="false">
            <description>Returns the name of the motile element.</description>
            <return>
                <type>
                    <simple name="string"/>
                </type>
            </return>
        </method>
        <method name="hideInto">
          <description>Action of hinding within the crowd. Hining in a crowd allow the agent not to be detected by other agent. It also allows the agent to be transported with the crowd.</description>
          <return>
            <type>
              <simple name="boolean"/>
            </type>
          </return>
        </method>
        <method name="isValid" abstract="false">
          <description>Return 'true' if the knowledge is valid.</description>
          <return>
            <type>
              <simple name="boolean"/>
            </type>
          </return>
        </method>
        <method name="getHiddenUnits">
          <description>Returns the list of agents hidding into this crowd.</description>
          <return>
            <type>
              <list>
                <class name="sword.military.knowledge.decisional.Loadable"/>
              </list>
            </type>
          </return>
        </method>
    </methods>
    <predicates>
        <predicate name="isDangerous" abstract="false">
            <description></description>
        </predicate>
        <predicate name="isDominated" abstract="false">
            <description></description>
        </predicate>
        <predicate name="isAgressive" abstract="false">
            <description>Retourne vrai si la foule a une attitude agressive</description>
        </predicate>
    </predicates>
    <attributes>
        <attribute name="tasks">
            <type>
                <list>
                    <class name="common.Task"/>
                </list>
            </type>
        </attribute>
        <attribute name="domination">
            <description>La domination vaut 0 lorsque la foule est dominée par un ou plusieurs pions. Sinon, la foule n'est pas dominée. La domination baisse lorsque des pions ont des missions de controle de foule et un comportement par defaut le fera augmenter.</description>
            <type>
                <simple name="numeric"/>
            </type>
        </attribute>
    </attributes>
</class>