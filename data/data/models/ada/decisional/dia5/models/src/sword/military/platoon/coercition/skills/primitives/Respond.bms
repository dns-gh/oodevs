-- **************************************************************************** 
-- Respond toward the element with adapted weapon system(s).
-- ****************************************************************************
rootnode 
{
    connections = { skill.nodes.Respond },

    done = function( self ) end,
 
    activate = function( self )
        local Activate = Activate
        -- Manage respond if under fire
        for _, entity in pairs( self.params.entities ) do
            if entity:canRespond() then
                Activate( skill.nodes.Respond,  entity:safetyPriority(), { entity = entity } )
            end
        end
     end
}

-- **************************************************************************** 
-- Respond toward the element with adapted weapon system(s).
-- ****************************************************************************
node "Respond"
{
    acquire = { [ skill.resources.engage ] = 1 },

    select = function( self )
        self.params.entity:respondToIt()
    end
}
