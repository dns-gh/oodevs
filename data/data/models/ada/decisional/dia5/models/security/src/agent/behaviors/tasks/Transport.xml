<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="agent.behaviors.tasks.Transport" source-version="1.0.0">
    <description>To transport entities ( agents, knowledge agents, crowds) on a specified position. &#xD;
Entities are visited in the order of the list and are loaded on the agent. Once all elements are loaded (some entities could not be loaded), the agent moves toward issued destination and unload transported entities, one by one. &#xD;
&#xD;
Entities won't be transported if:&#xD;
- visited entity is not reached (it has moved away or it is localized in a non accessible urban block for instance)&#xD;
- visited entity is already loaded or if it is beeing transported.&#xD;
&#xD;
Specific behavior for crowd agents:&#xD;
- the agent can only load a crowd's concentration. If number of humans within concentration is greater than the agent's crowd transport capability (number of humans loaded per time unit), concentration won't be loaded and agent will visit next element.&#xD;
</description>
    <parameters>
        <parameter name="entitiesToTransport">
            <type>
                <list>
                    <class name="agent.world.Transportable"/>
                </list>
            </type>
        </parameter>
        <parameter name="destination">
            <type>
                <class name="agent.world.Destination"/>
            </type>
        </parameter>
    </parameters>
    <stages>
        <stage label="Transport mission" disable-when-done="true">
            <skills>
                <skill name="agent.behaviors.skills.Transport" main="true">
                    <parameter name="entitiesToTransport">
                        <value>
                            <parameter>entitiesToTransport</parameter>
                        </value>
                    </parameter>
                    <parameter name="destination">
                        <value>
                            <parameter>destination</parameter>
                        </value>
                    </parameter>
                </skill>
            </skills>
        </stage>
    </stages>
</task>