<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="agent.behaviors.tasks.LaunchProjectileOnACrowd" source-version="1.0.0">
    <description>For an agent to launch a specified quantity of projectiles on a given crowd. This mission may be used with specific projectiles in order to perform specific actions on a crowd (crowd dispersal actions with dispersion projectile  for instance ).&#xD;
&#xD;
A crowd won't be hit (unit cannot launch projectile) if the agent doesn't have the physical capability (no adapted launcher regarding to dotation type) or if it hasn't enough dotation).&#xD;
&#xD;
If a position is issued (optional) agent tries to launch projectiles from it. If not, agent moves toward each crowd until it can launch the projectile. In some cases (long range type of projectiles) agent don't need to move.</description>
    <parameters>
        <parameter name="crowd">
            <description>The crowd on which the agent lauches the projectiles.</description>
            <type>
                <class name="agent.ontology.classes.Crowd"/>
            </type>
        </parameter>
        <parameter name="dotationType">
            <description>The type of projectile (resource dotation type) to launch to hit the target.</description>
            <type>
                <any/>
            </type>
        </parameter>
        <parameter name="position" nullable="true">
            <description>The position to reach to launch the projectile. This parameter is optional. If it is not issued, the will automatically find a shooting position while moving toward the target crowd.</description>
            <type>
                <class name="agent.world.Destination"/>
            </type>
            <default>
                <nil/>
            </default>
        </parameter>
    </parameters>
    <stages>
        <stage label="launch projectile on crowd" disable-when-done="true">
            <skills>
                <skill name="agent.behaviors.skills.LaunchProjectileOnTargets" main="true">
                    <parameter name="position">
                        <value>
                            <parameter>position</parameter>
                        </value>
                    </parameter>
                    <parameter name="targets">
                        <value>
                            <list>
                                <parameter>crowd</parameter>
                            </list>
                        </value>
                    </parameter>
                    <parameter name="dotationType">
                        <value>
                            <parameter>dotationType</parameter>
                        </value>
                    </parameter>
                </skill>
            </skills>
        </stage>
    </stages>
</task>