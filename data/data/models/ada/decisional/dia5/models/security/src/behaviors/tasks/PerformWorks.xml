<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="behaviors.tasks.PerformWorks" source-version="1.0.0">
    <description>For an gent to know how to create and build (or resume construction of) a set of works (objects or planned objects). When several elements  should be visited, the agent acts on each object by following the order of the elements into the list. &#xD;
A visited object won't be created and build if agent doesn't have the physical capability or if it hasn't enough resources to do it. In that specific case, agent will decide to visit the next one. &#xD;
&#xD;
If the 'waitForReinforcement' parameter is set to 'true' (default value is 'false'), agent will wait for reinforcement each time it cannot create a work (no physical capabilities). &#xD;
&#xD;
The mission is done when all works have been visited (even if one one the objects could be built).</description>
    <parameters>
        <parameter name="works">
            <description>The works to performs.</description>
            <type>
                <list>
                    <class name="agent.world.Work"/>
                </list>
            </type>
        </parameter>
        <parameter name="waitForReinforcement">
            <description>If this parameter is set to 'true', the the agent decide to wait reinforcement in the case it is not able to perform work depending on its physical capability.</description>
            <type>
                <simple name="boolean"/>
            </type>
            <default>
                <boolean>false</boolean>
            </default>
        </parameter>
        <parameter name="instantaneously">
            <description>Define if agent will create issued works (planned object) instantaneously (magically).</description>
            <type>
                <simple name="boolean"/>
            </type>
            <default>
                <boolean>false</boolean>
            </default>
        </parameter>
    </parameters>
    <stages>
        <stage label="works creation" disable-when-done="true">
            <description>To move toward each element to perform the given works.</description>
            <skills>
                <skill name="behaviors.skills.primitives.Create" main="true">
                    <parameter name="works">
                        <value>
                            <parameter>works</parameter>
                        </value>
                    </parameter>
                    <parameter name="waitForReinforcement">
                        <value>
                            <parameter>waitForReinforcement</parameter>
                        </value>
                    </parameter>
                    <parameter name="instantaneously">
                        <value>
                            <parameter>instantaneously</parameter>
                        </value>
                    </parameter>
                </skill>
            </skills>
        </stage>
    </stages>
</task>