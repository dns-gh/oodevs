<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="behaviors.tasks.Deconstruct" source-version="1.0.0">
    <description>For an gent to know how to deconstruct a set of given works (objects or urban blocks). When several elements  should be visited, the agent acts on each element by following the order of the elements into the list. &#xD;
Note that a deconstructed works may disapears (tactical objects) because they don't exist anymore.&#xD;
&#xD;
A visited element won't be deconstructed if agent doesn't have the physical capability or if it hasn't enough resources to do it. In that specific case, agent will decide to visit the next one.&#xD;
&#xD;
If the 'waitForReinforcement' parameter is set to 'true' (default value is 'false'), agent will wait for reinforcement each time it cannot create a work (no physical capabilities). &#xD;
&#xD;
If &quot;instantaneously&quot; parameter is set to 'true' (default value is 'false'), each visited work are magically deconstructed without any physical capability considerations (note that if this paramter is set to 'true' the agent won't need any reinforcement).&#xD;
&#xD;
The mission is done when all works have been visited (even if one one the objects could be deconstructed).</description>
    <parameters>
        <parameter name="works">
            <description>The set of work to deconstruct.</description>
            <type>
                <list>
                    <class name="agent.world.Work"/>
                </list>
            </type>
        </parameter>
        <parameter name="waitForReinforcement" nullable="true">
            <description>Define if agent needs to wait for reinforcement when it is not able to deconstruct a work.</description>
            <type>
                <simple name="boolean"/>
            </type>
            <default>
                <boolean>false</boolean>
            </default>
        </parameter>
        <parameter name="instantaneously">
            <description>If this parameter is set to 'true', agent  Unit will decide to remove the given element instantaneously, without any physical capability considerations.</description>
            <type>
                <simple name="boolean"/>
            </type>
            <default>
                <boolean>false</boolean>
            </default>
        </parameter>
    </parameters>
    <stages>
        <stage label="works deconstruction" disable-when-done="true">
            <skills>
                <skill name="behaviors.skills.primitives.Deconstruct" main="true">
                    <parameter name="works">
                        <value>
                            <parameter>works</parameter>
                        </value>
                    </parameter>
                    <parameter name="waitForReinforcement">
                        <value>
                            <parameter>waitForReinforcement</parameter>
                        </value>
                    </parameter>
                    <parameter name="instantaneously">
                        <value>
                            <parameter>instantaneously</parameter>
                        </value>
                    </parameter>
                </skill>
            </skills>
        </stage>
    </stages>
</task>