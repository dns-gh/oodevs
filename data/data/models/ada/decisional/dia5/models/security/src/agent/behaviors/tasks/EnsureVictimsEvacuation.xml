<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="agent.behaviors.tasks.EnsureVictimsEvacuation" source-version="1.0.0">
    <description>To ensure the evacuation of wounded humans contained in a set  of a given &quot;VictimsUnits&quot;. Each wounded humans are evacuated by the issued 'medicalUnit'.&#xD;
&#xD;
Wounded human victims won't be evacuated if:&#xD;
- 'victimsUnit' cannot be reached (it has moved away or it is localized in a non accessible urban block)&#xD;
- 'victimsUnit' does not have wounded humans.</description>
    <parameters>
        <parameter name="victimsUnits">
            <description>The units whose victims (wounded humans) need to be evacuated through the medical unit (TC2).</description>
            <type>
                <list>
                    <class name="agent.world.Victims"/>
                </list>
            </type>
        </parameter>
        <parameter name="medicalUnit">
            <description>The medical unit linked to medical logistic chain (as TC2 for military units). This unit will be notified to evcuate wounded humans of 'victims Units'.</description>
            <type>
                <class name="agent.world.Medical"/>
            </type>
        </parameter>
    </parameters>
    <stages>
        <stage label="Starting to evacuate victims from units" disable-when-done="true">
            <description>Reach each victims unit and try to make wounded humans evacuated through the medical unit. </description>
            <skills>
                <skill name="agent.behaviors.skills.primitives.EnsureVictimsEvacuation" main="true">
                    <parameter name="medicalUnit">
                        <value>
                            <parameter>medicalUnit</parameter>
                        </value>
                    </parameter>
                    <parameter name="victimsUnits">
                        <value>
                            <parameter>victimsUnits</parameter>
                        </value>
                    </parameter>
                </skill>
            </skills>
        </stage>
    </stages>
</task>