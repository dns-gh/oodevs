-- **************************************************************************** 
-- To visit and extract all wounded victims from 'crowds' within an area.
-- @params self.params.area, the area in which to find crowds .
-- ****************************************************************************
rootnode 
{
    connections = { skill.links.extractVictims },

    -- --------------------------------------------------------------------------------
    -- Init
    -- --------------------------------------------------------------------------------
    create = function( self )
        self.crowdsToVisit = ontology.queries.GetCrowdsWithinArea[ "execute" ]( { area = self.params.area } )
    end,

    -- --------------------------------------------------------------------------------
    -- Behavior execution
    -- --------------------------------------------------------------------------------
    activate = function( self )
        local Activate = Activate
        Activate( skill.links.extractVictims, 1, { victimsUnits = self.crowdsToVisit } )
    end
}