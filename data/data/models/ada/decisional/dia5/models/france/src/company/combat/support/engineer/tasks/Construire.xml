<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="company.combat.support.engineer.tasks.Construire" source-version="1.0.0" knowledge-class="company.combat.support.engineer.tasks.knowledges.Construire">
	<parameters>
		<parameter name="entities">
			<description>Les objets à construire</description>
			<type>
				<list>
					<class name="world.Object"/>
				</list>
			</type>
		</parameter>
		<parameter name="meetingPoint">
			<description>Point de regroupement vers lequel se déplacera l'unité en fin de mission.</description>
			<type>
				<class name="properties.Reachable"/>
			</type>
		</parameter>
		<parameter name="withImprovement" nullable="true">
			<description>Si la valeur est vraie, on continue la construction en valorisant l'objectif.</description>
			<type>
				<simple name="boolean"/>
			</type>
			<default>
				<boolean>false</boolean>
			</default>
		</parameter>
	</parameters>
	<stages>
		<stage label="Construction">
			<skills>
				<skill name="commander.skills.LeadGEN" main="true">
					<parameter name="companyTask">
						<value>
							<string>company.combat.support.engineer.tasks.Construire</string>
						</value>
					</parameter>
					<parameter name="mainTasks">
						<value>
							<string>platoon.combat.support.engineer.tasks.Construire</string>
						</value>
					</parameter>
					<parameter name="supportTasks">
						<value>
							<string>platoon.tasks.FaireMouvement</string>
						</value>
					</parameter>
					<parameter name="taskForSupporting">
						<value>
							<string>platoon.tasks.Renforcer</string>
						</value>
					</parameter>
					<parameter name="defaultTask">
						<value>
							<string>platoon.tasks.FaireMouvement</string>
						</value>
					</parameter>
					<parameter name="disableWhenDone">
						<value>
							<boolean>true</boolean>
						</value>
					</parameter>
				</skill>
			</skills>
		</stage>
		<stage label="Rejoindre la position de regroupement" disable-when-done="true">
			<skills>
				<skill name="commander.skills.Lead" main="true">
					<parameter name="companyTask">
						<value>
							<string>company.combat.support.engineer.tasks.Construire</string>
						</value>
					</parameter>
					<parameter name="mainTasks">
						<value>
							<string>platoon.tasks.FaireMouvement</string>
						</value>
					</parameter>
					<parameter name="supportTasks">
						<value>
							<string>platoon.tasks.FaireMouvement</string>
						</value>
					</parameter>
					<parameter name="taskForSupporting">
						<value>
							<string>platoon.tasks.Appuyer</string>
						</value>
					</parameter>
					<parameter name="defaultTask">
						<value>
							<string>platoon.tasks.Suivre</string>
						</value>
					</parameter>
					<parameter name="allInFront">
						<value>
							<boolean>true</boolean>
						</value>
					</parameter>
				</skill>
			</skills>
		</stage>
	</stages>
</task>