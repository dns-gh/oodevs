<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="agent.tasks.Activate" source-version="1.0.0">
    <description>To activate a set of Sword tactical ojects. The agent chooses a position to activate each of the issued elements. Upon reaching a position, the agent activates the corresponding object. Upon action termination, the agents decides to move to the next one. When all entities have been activated, the agent moves to the 'meetingPosition' and the mission terminates.</description>
    <parameters>
        <parameter name="objects">
            <description>The set of objects to activate.</description>
            <type>
                <list>
                    <class name="properties.Activable"/>
                </list>
            </type>
        </parameter>
        <parameter name="meetingPosition">
            <description>The position to reach upon works termination.</description>
            <type>
                <class name="properties.Reachable"/>
            </type>
        </parameter>
    </parameters>
    <stages>
        <stage label="moving to activate objects">
            <skills>
                <skill name="agent.skills.Activate" main="true">
                    <parameter name="entities">
                        <value>
                            <parameter>objects</parameter>
                        </value>
                    </parameter>
                </skill>
            </skills>
        </stage>
        <stage label="moving to meeting position" disable-when-done="true">
            <skills>
                <skill name="agent.skills.MoveToward" main="true">
                    <parameter name="entities">
                        <value>
                            <list>
                                <parameter>meetingPosition</parameter>
                            </list>
                        </value>
                    </parameter>
                    <parameter name="avoidObstacles">
                        <value>
                            <boolean>true</boolean>
                        </value>
                    </parameter>
                </skill>
            </skills>
        </stage>
    </stages>
</task>