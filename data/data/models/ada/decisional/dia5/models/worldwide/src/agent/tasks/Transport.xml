<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="agent.tasks.Transport" source-version="1.0.0" knowledge-class="agent.tasks.knowledges.Transport">
    <description>For the agent, to transport  troops from one position to another.&#xD;
 In sword, the transportation of troops is managed within a specific simulation module. The agent moves to the loading position and  makes as many round trips it is necessary to transports components (troops or vehicles) of all the issued units to the destination.</description>
    <parameters>
        <parameter name="units">
            <description>The units to get transported on the destination.</description>
            <type>
                <list>
                    <class name="properties.Transportable"/>
                </list>
            </type>
        </parameter>
        <parameter name="loadingPoint">
            <description>The embarkation position.</description>
            <type>
                <class name="properties.Loading"/>
            </type>
        </parameter>
        <parameter name="destination">
            <description>The destination into which the agent have to transport the units.</description>
            <type>
                <class name="properties.Loading"/>
            </type>
        </parameter>
        <parameter name="meetingPoint">
            <description>The meeting position to join once all issued units as been transported.</description>
            <type>
                <class name="properties.Reachable"/>
            </type>
        </parameter>
        <parameter name="distanceMin">
            <description>The minimum distance (in meters) underneath which this element is considered as being ready to get transported by the agent.&#xD;
Default value is 100 meters.</description>
            <type>
                <simple name="numeric"/>
            </type>
            <default>
                <number>100.0</number>
            </default>
        </parameter>
    </parameters>
    <stages>
        <stage label="move to embarkation position">
            <description>The agent moves to the embarkation position, loads the units and start round trips between the position and the final destination.</description>
            <skills>
                <skill name="agent.skills.Transport" main="true">
                    <parameter name="units">
                        <value>
                            <parameter>units</parameter>
                        </value>
                    </parameter>
                    <parameter name="loadingPoint">
                        <value>
                            <parameter>loadingPoint</parameter>
                        </value>
                    </parameter>
                    <parameter name="destination">
                        <value>
                            <parameter>destination</parameter>
                        </value>
                    </parameter>
                    <parameter name="distanceMin">
                        <value>
                            <parameter>distanceMin</parameter>
                        </value>
                    </parameter>
                </skill>
            </skills>
        </stage>
        <stage label="move to meeting position" disable-when-done="true">
            <description>se deplace vers le point de rendez vous donne en parametre</description>
            <skills>
                <skill name="agent.skills.MoveAlong" main="true">
                    <parameter name="entities">
                        <value>
                            <list>
                                <parameter>meetingPoint</parameter>
                            </list>
                        </value>
                    </parameter>
                </skill>
            </skills>
        </stage>
    </stages>
</task>