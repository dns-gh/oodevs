<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="commander.tasks.Defend" source-version="1.0.0" knowledge-class="commander.tasks.knowledges.Defend">
    <description>For the commander agent, to order subordinates units to defend the issued objectives. Forward echelon units will receive the main task (the 'Defend' mission), other units (rear echelon) support the forward echelon units.&#xD;
Engineer units perform the &quot;Build&quot; mission in case of obstacles to errect. Scouting patrol receive the &quot;Monitor&quot; mission with the main 'direction' as parameter.</description>
    <parameters>
        <parameter name="objectives">
            <description>The objectives to occupy and defend. The objectives are destroying position used to engage approaching enemies.</description>
            <type>
                <list>
                    <class name="properties.Destroying"/>
                </list>
            </type>
        </parameter>
        <parameter name="obstacles" nullable="true">
            <description>The planned obstacles to errect.</description>
            <type>
                <list>
                    <class name="properties.Buildable"/>
                    <class name="properties.Building"/>
                </list>
            </type>
            <default>
                <nil/>
            </default>
        </parameter>
        <parameter name="meetingPoint" nullable="true">
            <description>The position to reach in case of FRAGO 'cancel maneuver'. This position is reached by the CP and the engineer units once the obstacles have been errected.</description>
            <type>
                <class name="properties.Approachable"/>
                <class name="properties.Positionable"/>
            </type>
            <default>
                <nil/>
            </default>
        </parameter>
        <parameter name="withImprovement">
            <description>Define if the engineer units have to improve errected obstacles with mines.</description>
            <type>
                <simple name="boolean"/>
            </type>
            <default>
                <boolean>false</boolean>
            </default>
        </parameter>
    </parameters>
    <stages>
        <stage label="defending the objectives">
            <skills>
                <skill name="commander.skills.Lead" main="true">
                    <parameter name="companyTask">
                        <value>
                            <string>commander.tasks.Defend</string>
                        </value>
                    </parameter>
                    <parameter name="noCoordination">
                        <value>
                            <boolean>true</boolean>
                        </value>
                    </parameter>
                    <parameter name="mainTasks">
                        <value>
                            <string>agent.tasks.Defend</string>
                        </value>
                    </parameter>
                    <parameter name="supportTasks">
                        <value>
                            <string>agent.tasks.CombatSupport;agent.tasks.Build</string>
                        </value>
                    </parameter>
                    <parameter name="pcTasks">
                        <value>
                            <string>agent.tasks.MoveAlong</string>
                        </value>
                    </parameter>
                    <parameter name="pcObjective">
                        <value>
                            <parameter>meetingPoint</parameter>
                        </value>
                    </parameter>
                    <parameter name="peiTasks">
                        <value>
                            <string>agent.tasks.Monitor</string>
                        </value>
                    </parameter>
                    <parameter name="taskForSupporting">
                        <value>
                            <string>agent.tasks.CombatSupport</string>
                        </value>
                    </parameter>
                    <parameter name="defaultTask">
                        <value>
                            <string>agent.tasks.Follow</string>
                        </value>
                    </parameter>
                    <parameter name="engineerTask">
                        <value>
                            <string>agent.tasks.Build</string>
                        </value>
                    </parameter>
                </skill>
            </skills>
        </stage>
    </stages>
</task>