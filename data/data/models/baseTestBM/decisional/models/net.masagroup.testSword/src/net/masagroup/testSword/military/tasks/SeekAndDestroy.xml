<?xml version="1.0" encoding="UTF-8"?>
<task xmlns="http://www.masagroup.net/directia/schemas/bm" name="net.masagroup.testSword.military.tasks.SeekAndDestroy">
  <parameters>
    <parameter name="objectives">
      <type>
        <list>
          <class name="net.masagroup.military.generic.knowledge.Reachable"/>
        </list>
      </type>
    </parameter>
  </parameters>
  <goal>
    <description>Détruire rencontrés, section, object, BU</description>
  </goal>
  <stages>
    <stage>
      <description>Détruire rencontrés, section, object, BU</description>
      <goal>
        <description>Détruire rencontrés, section, object, BU</description>
      </goal>
      <let name="destroyableEntities">
        <value>
          <call method="net.masagroup.sword.military.queries.getDestroyable">
            <parameter name="dynamic">
              <value>
                <boolean>true</boolean>
              </value>
            </parameter>
          </call>
        </value>
      </let>
      <skills>
        <skill name="net.masagroup.sword.military.skills.primitives.MoveToward" main="true" priority="0.1">
          <parameter name="entities">
            <value>
              <parameter>objectives</parameter>
            </value>
          </parameter>
          <parameter name="positions">
            <value>
              <call method="net.masagroup.sword.military.queries.getCrossroads">
                <parameter name="objectives">
                  <value>
                    <parameter>objectives</parameter>
                  </value>
                </parameter>
                <parameter name="dynamic">
                  <value>
                    <boolean>false</boolean>
                  </value>
                </parameter>
              </call>
            </value>
          </parameter>
        </skill>
        <skill name="net.masagroup.military.generic.combatant.skills.primitives.Destroy" priority="0.9">
          <parameter name="entities">
            <value>
              <parameter>destroyableEntities</parameter>
            </value>
          </parameter>
          <parameter name="positions">
            <value>
              <call method="net.masagroup.sword.military.queries.getDestroying">
                <parameter name="entities">
                  <value>
                    <parameter>destroyableEntities</parameter>
                  </value>
                </parameter>
                <parameter name="dynamic">
                  <value>
                    <boolean>true</boolean>
                  </value>
                </parameter>
              </call>
            </value>
          </parameter>
        </skill>
      </skills>
    </stage>
  </stages>
</task>