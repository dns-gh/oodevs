pragma "once"

include "DEC_GetMission.bms"

node 'BEH_Defaut'
{
    eventmanager_plugin_tag = "Mission",
}

node 'missionBehavior'
{
    activate = function( self )
        DEC_TestBehaviorCalled( "missionBehavior called" )
    end
}

node 'missionBehaviorWithArg'
{
    activate = function( self )
        DEC_TestMissionCalled( self.params.mission )
    end
}

local pionTest =
{
    eventmanager_plugin = 
    {
        BEH_Defaut = {},
        missionBehavior = { "mission" },
        missionBehaviorWithArg = { "mission" },
    },
}
local dummyClass = setmetatable( { "dummyClass" }, { __persist = function() end } )
masalife.brain.knowledge.createKnowledgeImplementation { className = dummyClass }
masalife.brain.knowledge:registerRole( masalife.brain.knowledge.create( dummyClass, {} ) )
masalife.brain.knowledge.me.body = masalife.brain.knowledge.create( dummyClass, {} )
brain "name" ( pionTest )
