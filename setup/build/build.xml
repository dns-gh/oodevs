<project name="setup" default="all">

    <property environment="env"/>
    <property name="env.PONEY_HOME" value="//install/masa/common/dev/common/poney"/>
    <import file="${env.PONEY_HOME}/poney.xml"/>
    <var name="repositories" value="${repositories},${sword.repository}"/>

    <target name="configure" description="retrieve dependencies">
        <update name="sword" version="Defense/releases/internal/sword5-dev" package="SWORD_binaries_${platform}_sword5-dev"/>
        <update name="vcredist" package="vcredist"/>
    </target>

    <target name="package">
        <nsis name="cloud"/>
        <zip destfile="${dist.dir}/sword_cloud_${platform}_debug.zip">
            <mappedresources>
                <fileset dir="../../host_agent/out/${platform}/RelWithDebInfo" includes="**/*.pdb"/>
                <flattenmapper/>
           </mappedresources>
        </zip>        
    </target>

    <target name="all" depends="configure,package" />

</project>
